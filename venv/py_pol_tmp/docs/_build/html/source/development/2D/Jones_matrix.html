

<!DOCTYPE html>
<html class="writer-html4" lang="English" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create arrays &mdash; Python polarization 1.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Python polarization
          

          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../readme.html">1. Python polarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage.html">3. Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">4. py_pol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">5. Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../authors.html">6. Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../history.html">7. History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Python polarization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Create arrays</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/source/development/2D/Jones_matrix.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">py_pol</span> <span class="k">import</span> <span class="n">degrees</span><span class="p">,</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">py_pol.jones_matrix</span> <span class="k">import</span> <span class="n">Jones_matrix</span><span class="p">,</span> <span class="n">create_Jones_matrices</span><span class="p">,</span> <span class="n">set_printoptions</span>
<span class="kn">from</span> <span class="nn">py_pol.jones_vector</span> <span class="k">import</span> <span class="n">Jones_vector</span>

<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">suppress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">linewidth</span> <span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Create-arrays">
<h1>Create arrays<a class="headerlink" href="#Create-arrays" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create several objectsat once</span>
<span class="nb">print</span><span class="p">(</span><span class="n">create_Jones_matrices</span><span class="p">([</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="s1">&#39;J2&#39;</span><span class="p">,</span> <span class="s1">&#39;J3&#39;</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">create_Jones_matrices</span><span class="p">([</span><span class="s1">&#39;J1&#39;</span><span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">create_Jones_matrices</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

<span class="n">J1</span><span class="p">,</span> <span class="n">J2</span><span class="p">,</span> <span class="n">J3</span> <span class="o">=</span> <span class="n">create_Jones_matrices</span><span class="p">([</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="s1">&#39;J2&#39;</span><span class="p">,</span> <span class="s1">&#39;J3&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="n">J2</span><span class="p">,</span> <span class="n">J3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[J1 is empty
, J2 is empty
, J3 is empty
]
J1 is empty

[J1 is empty
, J1 is empty
, J1 is empty
]
J1 is empty
 J2 is empty
 J3 is empty

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># From_matrix</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]])</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">set_printoptions</span><span class="p">(</span><span class="n">N_list</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1"># print(np.take(M, [0, 0], [0, 1]).flatten())</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000 +0.000]
[+0.000 +1.000]

J =
[+1.000 +0.000]   [+0.500 +0.500]   [+0.000 +2.000]
[+1.000 +0.000]   [+0.500 +0.500]   [+0.000 +2.000]

J J00 = [1.  0.5 0. ]
  J01 = [0.  0.5 2. ]
  J10 = [1.  0.5 0. ]
  J11 = [0.  0.5 2. ]

J J00 =
[[0.529 0.39  0.907 0.654 0.902]
 [0.201 0.348 0.071 0.605 0.897]
 [0.88  0.607 0.895 0.707 0.144]]
J J01 =
[[0.24  0.798 0.131 0.937 0.246]
 [0.034 0.743 0.416 0.469 0.846]
 [0.889 0.522 0.801 0.991 0.339]]
J J10 =
[[0.774 0.659 0.351 0.565 0.839]
 [0.98  0.272 0.241 0.939 0.916]
 [0.191 0.172 0.764 0.446 0.934]]
J J11 =
[[0.014 0.566 0.107 0.765 0.413]
 [0.754 0.569 0.453 0.285 0.078]
 [0.551 0.413 0.412 0.496 0.13 ]]

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\codigo_ucm\py_pol\py_pol\jones_matrix.py:513: ComplexWarning: Casting complex values to real discards the imaginary part
  self.M = np.array(self.M, dtype=float)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># From_components</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_components</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">from_components</span><span class="p">(([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_components</span><span class="p">((</span><span class="n">M</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">M</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_components</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_components</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">global_phase</span> <span class="o">=</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000 +0.500]
[+0.500 +0.000]

J J00 = [1.  0.5 0. ]
  J01 = [0.  0.5 1. ]
  J10 = [0.  0.5 1. ]
  J11 = [1.  0.5 0. ]

J J00 =
[[0.593 0.547 0.334 0.214 0.829]
 [0.193 0.772 0.468 0.181 0.94 ]
 [0.915 0.981 0.189 0.007 0.8  ]]
J J01 =
[[0.593 0.547 0.334 0.214 0.829]
 [0.193 0.772 0.468 0.181 0.94 ]
 [0.915 0.981 0.189 0.007 0.8  ]]
J J10 =
[[0.593 0.547 0.334 0.214 0.829]
 [0.193 0.772 0.468 0.181 0.94 ]
 [0.915 0.981 0.189 0.007 0.8  ]]
J J11 =
[[0.593 0.547 0.334 0.214 0.829]
 [0.193 0.772 0.468 0.181 0.94 ]
 [0.915 0.981 0.189 0.007 0.8  ]]

J J00 = [1. 1. 1.]
  J01 = [0.5 0.5 0.5]
  J10 = [0.5 0.5 0.5]
  J11 = [0. 0. 0.]

J J00 =
[[0.+1.j 0.+1.j]
 [0.+1.j 0.+1.j]]
J J01 =
[[0.+0.5j 0.+0.5j]
 [0.+0.5j 0.+0.5j]]
J J10 =
[[0.+0.5j 0.+0.5j]
 [0.+0.5j 0.+0.5j]]
J J11 =
[[0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Vacuum</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">vacuum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">vacuum</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">vacuum</span><span class="p">(</span><span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000 +0.000]
[+0.000 +1.000]

J J00 = [1. 1. 1.]
  J01 = [0. 0. 0.]
  J10 = [0. 0. 0.]
  J11 = [1. 1. 1.]

J J00 =
[[0.651+0.759j 0.977+0.215j 0.846+0.533j 0.815+0.58j  0.896+0.445j]
 [0.639+0.769j 0.977+0.214j 0.952+0.305j 0.795+0.606j 0.96 +0.281j]
 [0.827+0.562j 0.621+0.784j 0.71 +0.704j 0.85 +0.527j 0.638+0.77j ]]
J J01 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J10 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J11 =
[[0.651+0.759j 0.977+0.215j 0.846+0.533j 0.815+0.58j  0.896+0.445j]
 [0.639+0.769j 0.977+0.214j 0.952+0.305j 0.795+0.606j 0.96 +0.281j]
 [0.827+0.562j 0.621+0.784j 0.71 +0.704j 0.85 +0.527j 0.638+0.77j ]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Filter amplifier</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+3.000 +0.000]
[+0.000 +3.000]

J J00 = [0.    0.333 0.667 1.    1.333 1.667 2.   ]
  J01 = [0. 0. 0. 0. 0. 0. 0.]
  J10 = [0. 0. 0. 0. 0. 0. 0.]
  J11 = [0.    0.333 0.667 1.    1.333 1.667 2.   ]

J J00 =
[[0.   +0.j    0.133+0.051j 0.256+0.126j 0.422+0.074j 0.333+0.465j]
 [0.564+0.438j 0.851+0.102j 0.995+0.104j 1.047+0.459j 1.266+0.223j]
 [1.4  +0.283j 0.886+1.298j 1.713+0.07j  1.488+1.112j 1.422+1.406j]]
J J01 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J10 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J11 =
[[0.   +0.j    0.133+0.051j 0.256+0.126j 0.422+0.074j 0.333+0.465j]
 [0.564+0.438j 0.851+0.102j 0.995+0.104j 1.047+0.459j 1.266+0.223j]
 [1.4  +0.283j 0.886+1.298j 1.713+0.07j  1.488+1.112j 1.422+1.406j]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Mirror</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">mirror</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000 +0.000]
[+0.000 -1.000]

J J00 = [1. 1. 1.]
  J01 = [0. 0. 0.]
  J10 = [0. 0. 0.]
  J11 = [-1. -1. -1.]

J J00 =
[[0.61 +0.793j 0.984+0.178j 0.897+0.443j 0.915+0.404j 0.993+0.116j]
 [0.811+0.585j 0.935+0.354j 0.801+0.599j 0.631+0.776j 0.943+0.332j]
 [0.802+0.598j 0.99 +0.139j 0.938+0.346j 0.571+0.821j 0.947+0.32j ]]
J J01 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J10 =
[[0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
 [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]]
J J11 =
[[-0.61 -0.793j -0.984-0.178j -0.897-0.443j -0.915-0.404j -0.993-0.116j]
 [-0.811-0.585j -0.935-0.354j -0.801-0.599j -0.631-0.776j -0.943-0.332j]
 [-0.802-0.598j -0.99 -0.139j -0.938-0.346j -0.571-0.821j -0.947-0.32j ]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Diatenuator perfect</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_perfect</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_perfect</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_perfect</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J @ 45.00 deg =
[+0.500 +0.500]
[+0.500 +0.500]

J @ 45.00 deg =
[+1.000 +0.000]   [+0.000 +0.000]
[+0.000 +0.000]   [+0.000 +1.000]

J @ 45.00 deg J00 =
[[0.772+0.636j 0.703+0.693j 0.95 +0.001j 0.887+0.08j  0.446+0.678j]
 [0.53 +0.483j 0.471+0.389j 0.285+0.411j 0.291+0.258j 0.221+0.177j]
 [0.188+0.003j 0.107+0.019j 0.045+0.021j 0.011+0.006j 0.   +0.j   ]]
J @ 45.00 deg J01 =
[[0.   +0.j    0.079+0.078j 0.217+0.j    0.31 +0.028j 0.215+0.327j]
 [0.333+0.303j 0.376+0.31j  0.285+0.411j 0.365+0.323j 0.351+0.282j]
 [0.391+0.006j 0.307+0.054j 0.197+0.091j 0.099+0.05j  0.   +0.j   ]]
J @ 45.00 deg J10 =
[[0.   +0.j    0.079+0.078j 0.217+0.j    0.31 +0.028j 0.215+0.327j]
 [0.333+0.303j 0.376+0.31j  0.285+0.411j 0.365+0.323j 0.351+0.282j]
 [0.391+0.006j 0.307+0.054j 0.197+0.091j 0.099+0.05j  0.   +0.j   ]]
J @ 45.00 deg J11 =
[[0.   +0.j    0.009+0.009j 0.05 +0.j    0.109+0.01j  0.103+0.157j]
 [0.209+0.191j 0.3  +0.248j 0.285+0.411j 0.458+0.405j 0.559+0.449j]
 [0.812+0.012j 0.877+0.154j 0.863+0.399j 0.88 +0.447j 0.894+0.449j]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuator_linear</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J @ 171.89 deg =
[+0.980 -0.140]
[-0.140 +0.020]

J @ 171.89 deg J00 = [1.    0.933 0.75  0.5   0.25  0.067 0.   ]
               J01 = [0.    0.25  0.433 0.5   0.433 0.25  0.   ]
               J10 = [0.    0.25  0.433 0.5   0.433 0.25  0.   ]
               J11 = [0.    0.067 0.25  0.5   0.75  0.933 1.   ]

J @ 171.89 deg J00 = [0.    0.262 0.524 0.785 1.047 1.309 1.571]
               J01 = [0. 0. 0. 0. 0. 0. 0.]
               J10 = [0. 0. 0. 0. 0. 0. 0.]
               J11 = [0. 0. 0. 0. 0. 0. 0.]

J @ 171.89 deg J00 =
[[0.963+0.269j 0.985+0.069j 0.945+0.105j 0.875+0.169j 0.81 +0.05j ]
 [0.47 +0.542j 0.578+0.199j 0.409+0.288j 0.363+0.138j 0.19 +0.21j ]
 [0.14 +0.126j 0.079+0.076j 0.033+0.037j 0.012+0.003j 0.   +0.j   ]]
J @ 171.89 deg J01 =
[[0.   +0.j    0.111+0.008j 0.216+0.024j 0.306+0.059j 0.39 +0.024j]
 [0.295+0.34j  0.461+0.159j 0.409+0.288j 0.456+0.173j 0.302+0.334j]
 [0.29 +0.262j 0.225+0.216j 0.145+0.162j 0.107+0.029j 0.   +0.j   ]]
J @ 171.89 deg J10 =
[[0.   +0.j    0.111+0.008j 0.216+0.024j 0.306+0.059j 0.39 +0.024j]
 [0.295+0.34j  0.461+0.159j 0.409+0.288j 0.456+0.173j 0.302+0.334j]
 [0.29 +0.262j 0.225+0.216j 0.145+0.162j 0.107+0.029j 0.   +0.j   ]]
J @ 171.89 deg J11 =
[[0.   +0.j    0.013+0.001j 0.049+0.005j 0.107+0.021j 0.188+0.012j]
 [0.185+0.214j 0.368+0.127j 0.409+0.288j 0.571+0.217j 0.481+0.532j]
 [0.602+0.545j 0.642+0.618j 0.634+0.708j 0.952+0.261j 0.967+0.255j]]

J @ 171.89 deg J00 = [0.071 0.147 0.224 0.3   0.377 0.453 0.529]
               J01 = [-0.045  0.074  0.193  0.312  0.431  0.55   0.669]
               J10 = [-0.045  0.074  0.193  0.312  0.431  0.55   0.669]
               J11 = [0.029 0.215 0.4   0.585 0.771 0.956 1.141]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuator_retarder_linear</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J @ 171.89 deg =
[+1.000 -0.000]
[-0.000 +1.000]

J @ 171.89 deg J00 = [1. 1. 1. 1. 1. 1. 1.]
               J01 = [0. 0. 0. 0. 0. 0. 0.]
               J10 = [0. 0. 0. 0. 0. 0. 0.]
               J11 = [1. 1. 1. 1. 1. 1. 1.]

J @ 171.89 deg J00 = [0.    0.262 0.524 0.785 1.047 1.309 1.571]
               J01 = [0. 0. 0. 0. 0. 0. 0.]
               J10 = [0. 0. 0. 0. 0. 0. 0.]
               J11 = [1. 1. 1. 1. 1. 1. 1.]

J @ 171.89 deg J00 =
[[0.914+0.406j 0.887+0.462j 0.585+0.811j 0.737+0.675j 0.801+0.599j]
 [0.939+0.343j 0.757+0.654j 0.889+0.459j 0.97 +0.244j 0.976+0.216j]
 [0.838+0.546j 0.821+0.57j  0.95 +0.313j 0.966+0.26j  0.607+0.795j]]
J @ 171.89 deg J01 =
[[ 0.+0.j  0.-0.j  0.+0.j  0.+0.j  0.+0.j]
 [-0.+0.j  0.+0.j  0.+0.j -0.+0.j -0.+0.j]
 [ 0.-0.j  0.-0.j  0.+0.j  0.+0.j  0.+0.j]]
J @ 171.89 deg J10 =
[[ 0.+0.j  0.+0.j  0.+0.j  0.+0.j  0.+0.j]
 [ 0.-0.j  0.+0.j  0.+0.j  0.+0.j  0.+0.j]
 [-0.+0.j  0.+0.j  0.+0.j  0.+0.j  0.+0.j]]
J @ 171.89 deg J11 =
[[0.914+0.406j 0.887+0.462j 0.585+0.811j 0.737+0.675j 0.801+0.599j]
 [0.939+0.343j 0.757+0.654j 0.889+0.459j 0.97 +0.244j 0.976+0.216j]
 [0.838+0.546j 0.821+0.57j  0.95 +0.313j 0.966+0.26j  0.607+0.795j]]

J @ 171.89 deg J00 = [0.071 0.147 0.224 0.3   0.377 0.453 0.529]
               J01 = [-0.045  0.074  0.193  0.312  0.431  0.55   0.669]
               J10 = [-0.045  0.074  0.193  0.312  0.431  0.55   0.669]
               J11 = [0.029 0.215 0.4   0.585 0.771 0.956 1.141]

J @ 171.89 deg J00 = [0.02 -0.068j 0.097-0.068j 0.173-0.068j 0.249-0.068j 0.326-0.068j 0.402-0.068j 0.479-0.068j]
               J01 = [-0.013+0.044j  0.106+0.044j  0.225+0.044j  0.344+0.044j  0.463+0.044j  0.582+0.044j  0.701+0.044j]
               J10 = [-0.013+0.044j  0.106+0.044j  0.225+0.044j  0.344+0.044j  0.463+0.044j  0.582+0.044j  0.701+0.044j]
               J11 = [0.008-0.028j 0.194-0.028j 0.379-0.028j 0.564-0.028j 0.75 -0.028j 0.935-0.028j 1.121-0.028j]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuator_charac_angles</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+0.000+0.900j +0.000+0.000j]
[+0.000+0.000j +0.000+0.100j]

J J00 = [0.+0.5j 0.+0.6j 0.+0.7j 0.+0.8j 0.+0.9j 0.+1.j ]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j]

J J00 = [0.+0.5j   0.+0.552j 0.+0.493j 0.+0.342j 0.+0.176j 0.+0.1j  ]
  J01 = [0.   +0.j 0.147+0.j 0.285+0.j 0.333+0.j 0.235+0.j 0.   +0.j]
  J10 = [ 0.   +0.j -0.147+0.j -0.285+0.j -0.333+0.j -0.235+0.j -0.   +0.j]
  J11 = [0.+0.1j   0.+0.148j 0.+0.307j 0.+0.558j 0.+0.824j 0.+1.j   ]

J J00 =
[[0.489+0.103j 0.421+0.358j 0.492+0.017j]
 [0.315+0.132j 0.128+0.122j 0.089+0.046j]]
J J01 =
[[0.   +0.j    0.095-0.112j 0.01 -0.285j]
 [0.128-0.307j 0.162-0.17j  0.   -0.j   ]]
J J10 =
[[ 0.   +0.j    -0.095+0.112j -0.01 +0.285j]
 [-0.128+0.307j -0.162+0.17j  -0.   +0.j   ]]
J J11 =
[[0.098+0.021j 0.113+0.096j 0.307+0.01j ]
 [0.515+0.215j 0.596+0.569j 0.888+0.459j]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuator_azimuth_ellipticity</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_azimuth_ellipticity</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_azimuth_ellipticity</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_azimuth_ellipticity</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">azimuth</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_azimuth_ellipticity</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">azimuth</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+0.000+0.900j +0.000+0.000j]
[+0.000+0.000j +0.000+0.100j]

J J00 = [0.+0.5j 0.+0.6j 0.+0.7j 0.+0.8j 0.+0.9j 0.+1.j ]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j 0.+0.1j]

J J00 = [0.+0.3j  0.+0.35j 0.+0.4j  0.+0.45j 0.+0.5j  0.+0.55j]
  J01 = [0.2 +0.j 0.25+0.j 0.3 +0.j 0.35+0.j 0.4 +0.j 0.45+0.j]
  J10 = [-0.2 +0.j -0.25+0.j -0.3 +0.j -0.35+0.j -0.4 +0.j -0.45+0.j]
  J11 = [0.+0.3j  0.+0.35j 0.+0.4j  0.+0.45j 0.+0.5j  0.+0.55j]

J J00 =
[[0.273+0.125j 0.349+0.019j 0.316+0.245j]
 [0.4  +0.207j 0.413+0.282j 0.386+0.392j]]
J J01 =
[[0.083-0.182j 0.013-0.25j  0.184-0.237j]
 [0.161-0.311j 0.226-0.33j  0.321-0.316j]]
J J10 =
[[-0.083+0.182j -0.013+0.25j  -0.184+0.237j]
 [-0.161+0.311j -0.226+0.33j  -0.321+0.316j]]
J J11 =
[[0.273+0.125j 0.349+0.019j 0.316+0.245j]
 [0.4  +0.207j 0.413+0.282j 0.386+0.392j]]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># retarder_linear</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">delay</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="n">delay</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">phase</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="n">phase</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000+0.000j +0.000+0.000j]
[+0.000+0.000j +0.000-1.000j]

J J00 = [0.+1.j 0.+1.j 0.+1.j 0.+1.j 0.+1.j]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [0.   +1.j    0.383+0.924j 0.707+0.707j 0.924+0.383j 1.   +0.j   ]

J J00 = [0.   +1.j    0.146+0.854j 0.5  +0.5j   0.854+0.146j 1.   +0.j   ]
  J01 = [ 0.   +0.j    -0.354+0.354j -0.5  +0.5j   -0.354+0.354j -0.   +0.j   ]
  J10 = [ 0.   +0.j    -0.354+0.354j -0.5  +0.5j   -0.354+0.354j -0.   +0.j   ]
  J11 = [1.   +0.j    0.854+0.146j 0.5  +0.5j   0.146+0.854j 0.   +1.j   ]

J J00 = [1.   +0.j    0.924+0.383j 0.707+0.707j 0.383+0.924j 0.   +1.j   ]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [0.   -1.j    0.383-0.924j 0.707-0.707j 0.924-0.383j 1.   +0.j   ]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># retarder_material</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_material</span><span class="p">(</span><span class="n">ne</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">no</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">1.2e-6</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_material</span><span class="p">(</span><span class="n">ne</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">no</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">1.2e-6</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">ne</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_material</span><span class="p">(</span><span class="n">ne</span><span class="o">=</span><span class="n">ne</span><span class="p">,</span> <span class="n">no</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">1.2e-6</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000+0.000j +0.000+0.000j]
[+0.000+0.000j +0.729+0.685j]

J J00 = [1.   +0.j    0.96 +0.1j   0.864+0.342j 0.769+0.584j 0.729+0.685j]
  J01 = [0.   +0.j    0.096-0.242j 0.136-0.342j 0.096-0.242j 0.   -0.j   ]
  J10 = [0.   +0.j    0.096-0.242j 0.136-0.342j 0.096-0.242j 0.   -0.j   ]
  J11 = [0.729+0.685j 0.769+0.584j 0.864+0.342j 0.96 +0.1j   1.   +0.j   ]

J J00 = [1.+0.j 1.+0.j 1.+0.j 1.+0.j 1.+0.j]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [0.063+0.998j 0.249+0.969j 0.426+0.905j 0.588+0.809j 0.729+0.685j]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># retarder_charac_angles</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># J.remove_global_phase()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="n">D</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000+0.000j +0.000+0.000j]
[+0.000+0.000j +0.000-1.000j]

J J00 = [1.   +0.j 0.866+0.j 0.707+0.j 0.866-0.j 1.   +0.j]
  J01 = [ 0.   +0.j     0.289+0.408j  0.   +0.707j -0.289+0.408j -0.   +0.j   ]
  J10 = [ 0.   +0.j     0.289+0.408j  0.   +0.707j -0.289+0.408j -0.   +0.j   ]
  J11 = [ 0.   -1.j     0.289-0.816j  0.707+0.j     0.289+0.816j -0.   +1.j   ]

J J00 = [1.+0.j 1.+0.j 1.-0.j 1.+0.j 1.+0.j]
  J01 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J10 = [0.+0.j 0.+0.j 0.+0.j 0.+0.j 0.+0.j]
  J11 = [1.   +0.j    0.924-0.383j 0.707-0.707j 0.383-0.924j 0.   -1.j   ]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># retarder_azimuth_ellipticity</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_azimuth_ellipticity</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_azimuth_ellipticity</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span> <span class="n">ellipticity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000+0.000j +0.000+0.000j]
[+0.000+0.000j +0.000-1.000j]

J J00 = [1.   +0.j 0.866+0.j 0.707+0.j 0.866-0.j 1.   +0.j]
  J01 = [ 0.   +0.j     0.289+0.408j  0.   +0.707j -0.289+0.408j -0.   +0.j   ]
  J10 = [ 0.   +0.j     0.289+0.408j  0.   +0.707j -0.289+0.408j -0.   +0.j   ]
  J11 = [ 0.   -1.j     0.289-0.816j  0.707+0.j     0.289+0.816j -0.   +1.j   ]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># quarter_waveplate</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">quarter_waveplate</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">quarter_waveplate</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">,</span> <span class="n">global_phase</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J =
[+1.000+0.000j +0.000+0.000j]
[+0.000+0.000j +0.000-1.000j]

J J00 = [1.   +0.j    0.854-0.146j 0.5  -0.5j   0.146-0.854j 0.   -1.j   ]
  J01 = [0.   +0.j    0.354+0.354j 0.5  +0.5j   0.354+0.354j 0.   +0.j   ]
  J10 = [0.   +0.j    0.354+0.354j 0.5  +0.5j   0.354+0.354j 0.   +0.j   ]
  J11 = [0.   -1.j    0.146-0.854j 0.5  -0.5j   0.854-0.146j 1.   -0.j   ]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuator_retarder_azimuth_ellipticity</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;Hola&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_azimuth_ellipticity</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hola is empty

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\codigo_ucm\py_pol\py_pol\jones_matrix.py:513: ComplexWarning: Casting complex values to real discards the imaginary part
  self.M = np.array(self.M, dtype=float)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># general_eigenstates</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">linear_light</span><span class="p">()</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">linear_light</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">general_eigenstates</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="n">J2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">general_eigenstates</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="n">J2</span><span class="p">,</span> <span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">general_eigenstates</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Complicated case
J =
[+1.000 -0.000]
[+0.000 +1.000]

Complicated case
J =
[+0.900+0.000j -0.900+0.400j]
[+0.000+0.000j +0.000+0.400j]

Simple case
J =
[+0.900+0.000j +0.000+0.000j]
[+0.000+0.000j +0.000-0.400j]

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\codigo_ucm\py_pol\py_pol\jones_matrix.py:513: ComplexWarning: Casting complex values to real discards the imaginary part
  self.M = np.array(self.M, dtype=float)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">aa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">aa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">aa</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[[0.764 0.028 0.503]
  [0.147 0.542 0.201]]

 [[0.455 0.911 0.914]
  [0.402 0.371 0.503]]]
</pre></div></div>
</div>
</div>
<div class="section" id="Operations">
<h1>Operations<a class="headerlink" href="#Operations" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Sum</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">+</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">+</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">+</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">+</span><span class="n">J2</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Funciona&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J + J =
[+2.000 +1.000]
[+1.000 +2.000]

J + J J00 = [2. 2. 2.]
      J01 = [2. 2. 2.]
      J10 = [2. 2. 2.]
      J11 = [2. 2. 2.]

J + J J00 = [2. 2. 2.]
      J01 = [1. 1. 1.]
      J10 = [1. 1. 1.]
      J11 = [2. 2. 2.]

J + J J00 =
[[2. 2.]
 [2. 2.]
 [2. 2.]]
J + J J01 =
[[2. 2.]
 [2. 2.]
 [2. 2.]]
J + J J10 =
[[2. 2.]
 [2. 2.]
 [2. 2.]]
J + J J11 =
[[2. 2.]
 [2. 2.]
 [2. 2.]]

Funciona
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Substraction</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">-</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">-</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">-</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">-</span><span class="n">J2</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Funciona&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J - J =
[+0.000 -1.000]
[-1.000 +0.000]

J - J J00 = [0. 0. 0.]
      J01 = [0. 0. 0.]
      J10 = [0. 0. 0.]
      J11 = [0. 0. 0.]

J - J J00 = [0. 0. 0.]
      J01 = [-1. -1. -1.]
      J10 = [-1. -1. -1.]
      J11 = [0. 0. 0.]

J - J J00 =
[[0. 0.]
 [0. 0.]
 [0. 0.]]
J - J J01 =
[[0. 0.]
 [0. 0.]
 [0. 0.]]
J - J J10 =
[[0. 0.]
 [0. 0.]
 [0. 0.]]
J - J J11 =
[[0. 0.]
 [0. 0.]
 [0. 0.]]

Funciona
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Left multiplication by constants</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J * 2 =
[+2.000 +0.000]
[+0.000 +2.000]

J J00 = [1. 2. 3. 4. 5.]
  J01 = [0. 0. 0. 0. 0.]
  J10 = [0. 0. 0. 0. 0.]
  J11 = [1. 2. 3. 4. 5.]

J J00 = [1. 2. 3. 4. 5.]
  J01 = [1. 2. 3. 4. 5.]
  J10 = [1. 2. 3. 4. 5.]
  J11 = [1. 2. 3. 4. 5.]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Left multiplication by Jones vectors</span>
<span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="n">j</span><span class="p">]</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">E</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">E</span><span class="p">)</span>


<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">E</span><span class="o">.</span><span class="n">linear_light</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">E</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="n">j</span><span class="p">]</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">E</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">E</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">E</span> <span class="o">=</span> <span class="n">Jones_vector</span><span class="p">()</span>
<span class="n">E</span><span class="o">.</span><span class="n">linear_light</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">E</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J * E =
[+2.000+0.000j]
[+0.000+3.000j]

E =
[+1.000+0.000j]   [+0.924+0.000j]   [+0.707+0.000j]   [+0.383+0.000j]   [+0.000+0.000j]
[+0.000+0.000j]   [+0.383+0.000j]   [+0.707+0.000j]   [+0.924+0.000j]   [+1.000+0.000j]

J * E Ex =
[[1.    1.689 2.121 2.23  2.   ]]
J * E Ey =
[[3.    4.302 4.95  4.844 4.   ]]

J * E Ex =
[[2.+3.j 2.+3.j 2.+3.j 2.+3.j 2.+3.j]]
J * E Ey =
[[2.+3.j 2.+3.j 2.+3.j 2.+3.j 2.+3.j]]

E =
[+1.000+0.000j]   [+0.924+0.000j]   [+0.707+0.000j]   [+0.383+0.000j]   [+0.000+0.000j]
[+0.000+0.000j]   [+0.383+0.000j]   [+0.707+0.000j]   [+0.924+0.000j]   [+1.000+0.000j]

J * E Ex =
[[1.    1.307 1.414 1.307 1.   ]]
J * E Ey =
[[1.    1.307 1.414 1.307 1.   ]]

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\codigo_ucm\py_pol\py_pol\jones_vector.py:455: ComplexWarning: Casting complex values to real discards the imaginary part
  self.M = np.array(self.M, dtype=float)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Left multiplication by Jones matrices</span>
<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span><span class="p">)</span>


<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J * J =
[+1.000 +2.000]
[+3.000 +4.000]

J * J J00 = [3. 3. 3. 3.]
      J01 = [3. 3. 3. 3.]
      J10 = [7. 7. 7. 7.]
      J11 = [7. 7. 7. 7.]

J * J J00 = [2. 2. 2. 2.]
      J01 = [2. 2. 2. 2.]
      J10 = [2. 2. 2. 2.]
      J11 = [2. 2. 2. 2.]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="nd">@b</span><span class="p">)</span>

<span class="n">J1</span><span class="p">,</span> <span class="n">J2</span> <span class="o">=</span> <span class="n">create_Jones_matrices</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">*</span><span class="n">J2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[19 22]
 [43 50]]
J * J =
[+19.000 +22.000]
[+43.000 +50.000]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">a2</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">b2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">b2</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="nd">@b2</span><span class="p">)</span>

<span class="n">J1</span><span class="p">,</span> <span class="n">J2</span> <span class="o">=</span> <span class="n">create_Jones_matrices</span><span class="p">((</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="s1">&#39;J2&#39;</span><span class="p">))</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">b2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="n">J2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">*</span><span class="n">J2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[[ 5.  0.]
  [10.  0.]]

 [[21.  0.]
  [28.  0.]]]
J1 =
[+1.000 +2.000]   [+0.000 +0.000]
[+3.000 +4.000]   [+0.000 +0.000]
 J2 =
[+5.000 +6.000]   [+0.000 +0.000]
[+7.000 +8.000]   [+0.000 +0.000]

J1 * J2 =
[+19.000 +22.000]   [+0.000 +0.000]
[+43.000 +50.000]   [+0.000 +0.000]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Right multiplication by constants</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">J1</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">J1</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">J1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J * 2 =
[+2.000 +0.000]
[+0.000 +2.000]

J J00 = [1. 2. 3. 4. 5.]
  J01 = [0. 0. 0. 0. 0.]
  J10 = [0. 0. 0. 0. 0.]
  J11 = [1. 2. 3. 4. 5.]

J J00 = [1. 2. 3. 4. 5.]
  J01 = [1. 2. 3. 4. 5.]
  J10 = [1. 2. 3. 4. 5.]
  J11 = [1. 2. 3. 4. 5.]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Division</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">/</span><span class="n">a</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">/</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J / 2 =
[+0.500 +0.000]
[+0.000 +0.500]

J J00 = [1.    0.5   0.333 0.25  0.2  ]
  J01 = [0. 0. 0. 0. 0.]
  J10 = [0. 0. 0. 0. 0.]
  J11 = [1.    0.5   0.333 0.25  0.2  ]

J J00 = [1.    0.5   0.333 0.25  0.2  ]
  J01 = [1.    0.5   0.333 0.25  0.2  ]
  J10 = [1.    0.5   0.333 0.25  0.2  ]
  J11 = [1.    0.5   0.333 0.25  0.2  ]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Rotation</span>
<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>


<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">angles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angles</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;J2&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">angles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angles</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;J2&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>

<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">angles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angles</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>


<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="n">angles</span> <span class="o">=</span> <span class="mi">45</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J1</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angles</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J @ 45.00 deg =
[+0.500 +0.500]
[+0.500 +0.500]

J2 J00 =
[1.    0.905 0.655 0.345 0.095 0.    0.095 0.345 0.655 0.905 1.   ]
J2 J01 =
[ 0.     0.294  0.476  0.476  0.294  0.    -0.294 -0.476 -0.476 -0.294 -0.   ]
J2 J10 =
[ 0.     0.294  0.476  0.476  0.294  0.    -0.294 -0.476 -0.476 -0.294 -0.   ]
J2 J11 =
[0.    0.095 0.345 0.655 0.905 1.    0.905 0.655 0.345 0.095 0.   ]

J2 J00 =
[1.    0.905 0.655 0.345 0.095 0.    0.095 0.345 0.655 0.905 1.   ]
J2 J01 =
[ 0.     0.294  0.476  0.476  0.294  0.    -0.294 -0.476 -0.476 -0.294 -0.   ]
J2 J10 =
[ 0.     0.294  0.476  0.476  0.294  0.    -0.294 -0.476 -0.476 -0.294 -0.   ]
J2 J11 =
[0.    0.095 0.345 0.655 0.905 1.    0.905 0.655 0.345 0.095 0.   ]

J1 =
[+1.000 +0.000]
[+0.000 +0.000]

J2 J00 =
[1.    0.976 0.905 0.794 0.655 0.5   0.345 0.206 0.095 0.024 0.   ]
J2 J01 =
[0.    0.155 0.294 0.405 0.476 0.5   0.476 0.405 0.294 0.155 0.   ]
J2 J10 =
[0.    0.155 0.294 0.405 0.476 0.5   0.476 0.405 0.294 0.155 0.   ]
J2 J11 =
[0.    0.024 0.095 0.206 0.345 0.5   0.655 0.794 0.905 0.976 1.   ]

J1 J00 =
[1.    0.691 0.412 0.191 0.049 0.    0.049 0.191 0.412 0.691 1.   ]
J1 J01 =
[ 1.     0.951  0.809  0.588  0.309  0.    -0.309 -0.588 -0.809 -0.951 -1.   ]
J1 J10 =
[ 1.     0.951  0.809  0.588  0.309  0.    -0.309 -0.588 -0.809 -0.951 -1.   ]
J1 J11 =
[1.    1.309 1.588 1.809 1.951 2.    1.951 1.809 1.588 1.309 1.   ]

J1 J00 =
[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
J1 J01 =
[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
J1 J10 =
[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
J1 J11 =
[2. 2. 2. 2. 2. 2. 2. 2. 2. 2. 2.]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Reciprocal element</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">.</span><span class="n">reciprocal</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J1 J00 = [0.055+0.423j 0.963+0.834j 0.801+0.651j 0.574+0.225j 0.313+0.113j]
   J01 = [0.251+0.109j 0.19 +0.934j 0.382+0.625j 0.527+0.425j 0.843+0.721j]
   J10 = [0.844+0.124j 0.887+0.6j   0.363+0.18j  0.46 +0.286j 0.287+0.858j]
   J11 = [0.237+0.302j 0.109+0.15j  0.205+0.016j 0.571+0.552j 0.037+0.272j]

Reciprocal of J1 J00 =
[0.055+0.423j 0.963+0.834j 0.801+0.651j 0.574+0.225j 0.313+0.113j]
Reciprocal of J1 J01 =
[-0.251-0.109j -0.19 -0.934j -0.382-0.625j -0.527-0.425j -0.843-0.721j]
Reciprocal of J1 J10 =
[-0.844-0.124j -0.887-0.6j   -0.363-0.18j  -0.46 -0.286j -0.287-0.858j]
Reciprocal of J1 J11 =
[0.237+0.302j 0.109+0.15j  0.205+0.016j 0.571+0.552j 0.037+0.272j]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Remove global phase</span>
<span class="n">M1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J1</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="o">.</span><span class="n">remove_global_phase</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J1 J00 = [0.221+0.472j 0.837+0.428j 0.718+0.29j  0.962+0.094j 0.172+0.728j]
   J01 = [0.745+0.69j  0.905+0.838j 0.671+0.231j 0.302+0.484j 0.806+0.733j]
   J10 = [0.776+0.415j 0.26 +0.778j 0.042+0.265j 0.524+0.855j 0.504+0.173j]
   J11 = [0.204+0.706j 0.793+0.034j 0.49 +0.967j 0.788+0.723j 0.832+0.92j ]

J1 J00 = [0.521-0.j 0.94 +0.j 0.774+0.j 0.966+0.j 0.748-0.j]
   J01 = [0.941-0.382j 1.187+0.335j 0.709-0.037j 0.348+0.452j 0.899-0.616j]
   J10 = [0.705-0.527j 0.586+0.575j 0.138+0.23j  0.605+0.8j   0.284-0.451j]
   J11 = [0.725+0.114j 0.722-0.33j  0.817+0.713j 0.855+0.642j 1.086-0.599j]

</pre></div></div>
</div>
</div>
<div class="section" id="Manipulations">
<h1>Manipulations<a class="headerlink" href="#Manipulations" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Sum</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">M2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[2.527 1.511]
 [2.797 2.705]]
Sum of J1 =
[+2.527 +1.511]
[+2.797 +2.705]



[[[0.431 0.809]
  [0.239 0.927]]

 [[0.666 1.002]
  [0.621 1.025]]]
Sum of J1 =
[+0.431 +0.239]   [+0.809 +0.927]
[+0.666 +0.621]   [+1.002 +1.025]



[[[2.723 1.596]
  [2.068 1.092]]

 [[1.771 1.915]
  [2.001 1.901]]]
Sum of J1 =
[+2.723 +2.068]   [+1.596 +1.092]
[+1.771 +2.001]   [+1.915 +1.901]



</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># prod</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">prod</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Prod of J =
[+0.647 +0.568]
[+0.169 +0.124]



Prod of J J00 = [0.836 0.158 0.265]
          J01 = [0.954 0.446 0.342]
          J10 = [0.532 0.09  0.149]
          J11 = [0.55  0.485 0.115]



Prod of J =
[+0.298 +0.364]
[+0.229 +0.280]



Prod of J J00 =
[[0.092 1.265 0.55  1.71 ]
 [0.122 0.694 0.02  0.078]]
Prod of J J01 =
[[0.331 0.378 0.541 1.201]
 [0.309 0.748 0.226 0.046]]
Prod of J J10 =
[[0.077 0.869 0.064 1.13 ]
 [0.036 0.14  0.012 0.531]]
Prod of J J11 =
[[0.272 0.206 0.146 0.791]
 [0.104 0.118 0.134 0.352]]



Prod of J J00 = [0.132 0.219 0.246 0.621]
          J01 = [0.25  0.118 0.248 0.541]
          J10 = [0.096 0.454 0.343 0.618]
          J11 = [0.18  0.246 0.348 0.538]



</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Rotation</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="n">angle</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">45</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">120</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">135</span><span class="o">*</span><span class="n">degrees</span><span class="p">]</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;J1&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">change_name</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>


<span class="n">angle</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">change_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;J2&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J1 J00 =
[ 1.    -0.5   -0.     1.116  1.5  ]
J1 J01 =
[ 1.     0.5   -1.    -0.933 -0.5  ]
J1 J10 =
[ 1.     0.5   -1.    -0.933 -0.5  ]
J1 J11 =
[ 0.     1.5    1.    -0.116 -0.5  ]

J2 =
[+0.240 +1.087]
[+1.087 +0.760]

 J1 =
[+1.000 +1.000]
[+1.000 +0.000]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># getitem</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;Test&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>

<span class="n">J2</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>

<span class="n">J3</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J3</span><span class="p">)</span>

<span class="n">J3</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J3</span><span class="p">)</span>

<span class="n">J4</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J4</span><span class="p">)</span>

<span class="n">aux</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,:,:]</span> <span class="o">&gt;</span> <span class="mf">0.5</span>
<span class="n">J4</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="n">aux</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Test J00 =
[[0.315 0.604 0.24  0.337 0.381]
 [0.116 0.542 0.652 0.559 0.375]
 [0.35  0.159 0.435 0.641 0.302]]
Test J01 =
[[0.79  0.464 0.346 0.3   0.126]
 [0.572 0.127 0.522 0.54  0.406]
 [0.057 0.55  0.136 0.961 0.925]]
Test J10 =
[[0.503 0.045 0.113 0.205 0.818]
 [0.733 0.163 0.947 0.061 0.421]
 [0.825 0.528 0.545 0.754 0.161]]
Test J11 =
[[0.878 0.864 0.172 0.16  0.366]
 [0.22  0.976 0.494 0.813 0.956]
 [0.176 0.177 0.008 0.342 0.171]]

Test_picked =
[+0.315 +0.790]
[+0.503 +0.878]

Test_picked J00 = [0.315 0.604 0.24 ]
            J01 = [0.79  0.464 0.346]
            J10 = [0.503 0.045 0.113]
            J11 = [0.878 0.864 0.172]

Test_picked =
[+0.542 +0.127]
[+0.163 +0.976]

Test_picked J00 =
[[0.315 0.604]
 [0.116 0.542]
 [0.35  0.159]]
Test_picked J01 =
[[0.79  0.464]
 [0.572 0.127]
 [0.057 0.55 ]]
Test_picked J10 =
[[0.503 0.045]
 [0.733 0.163]
 [0.825 0.528]]
Test_picked J11 =
[[0.878 0.864]
 [0.22  0.976]
 [0.176 0.177]]

Test_picked J00 = [0.24  0.381 0.542]
            J01 = [0.346 0.126 0.127]
            J10 = [0.113 0.818 0.163]
            J11 = [0.172 0.366 0.976]

Test_picked J00 = [0.604 0.542 0.652 0.559 0.641]
            J01 = [0.464 0.127 0.522 0.54  0.961]
            J10 = [0.045 0.163 0.947 0.061 0.754]
            J11 = [0.864 0.976 0.494 0.813 0.342]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># setitem</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;Test&#39;</span><span class="p">)</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">(</span><span class="s1">&#39;New&#39;</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span><span class="o">.</span><span class="n">vacuum</span><span class="p">()</span>
<span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span><span class="o">.</span><span class="n">vacuum</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span><span class="o">.</span><span class="n">vacuum</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">J2</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span><span class="o">.</span><span class="n">vacuum</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>

<span class="n">J2</span><span class="o">.</span><span class="n">vacuum</span><span class="p">()</span>
<span class="n">aux</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,:,:]</span> <span class="o">&gt;</span> <span class="mf">0.5</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span><span class="p">[</span><span class="n">aux</span><span class="p">]</span> <span class="o">=</span> <span class="n">J2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Test J00 =
[[0.925 0.798 0.145 0.115 0.904]
 [0.476 0.937 0.299 0.435 0.54 ]
 [0.432 0.265 0.918 0.534 0.271]]
Test J01 =
[[0.298 0.653 0.123 0.734 0.277]
 [0.208 0.26  0.616 0.132 0.43 ]
 [0.324 0.933 0.747 0.541 0.891]]
Test J10 =
[[0.932 0.526 0.846 0.802 0.504]
 [0.804 0.819 0.204 0.27  0.134]
 [0.699 0.336 0.179 0.022 0.834]]
Test J11 =
[[0.883 0.429 0.985 0.736 0.038]
 [0.618 0.865 0.639 0.026 0.434]
 [0.936 0.52  0.138 0.944 0.263]]

Test J00 =
[[1.    0.798 0.145 0.115 0.904]
 [0.476 0.937 0.299 0.435 0.54 ]
 [0.432 0.265 0.918 0.534 0.271]]
Test J01 =
[[0.    0.653 0.123 0.734 0.277]
 [0.208 0.26  0.616 0.132 0.43 ]
 [0.324 0.933 0.747 0.541 0.891]]
Test J10 =
[[0.    0.526 0.846 0.802 0.504]
 [0.804 0.819 0.204 0.27  0.134]
 [0.699 0.336 0.179 0.022 0.834]]
Test J11 =
[[1.    0.429 0.985 0.736 0.038]
 [0.618 0.865 0.639 0.026 0.434]
 [0.936 0.52  0.138 0.944 0.263]]

Test J00 =
[[1.    0.5   0.    0.115 0.904]
 [0.476 0.937 0.299 0.435 0.54 ]
 [0.432 0.265 0.918 0.534 0.271]]
Test J01 =
[[0.    0.5   0.    0.734 0.277]
 [0.208 0.26  0.616 0.132 0.43 ]
 [0.324 0.933 0.747 0.541 0.891]]
Test J10 =
[[0.    0.5   0.    0.802 0.504]
 [0.804 0.819 0.204 0.27  0.134]
 [0.699 0.336 0.179 0.022 0.834]]
Test J11 =
[[0.    0.5   1.    0.736 0.038]
 [0.618 0.865 0.639 0.026 0.434]
 [0.936 0.52  0.138 0.944 0.263]]

Test J00 =
[[0.925 0.798 0.145 0.115 0.904]
 [0.476 1.    0.299 0.435 0.54 ]
 [0.432 0.265 0.918 0.534 0.271]]
Test J01 =
[[0.298 0.653 0.123 0.734 0.277]
 [0.208 0.    0.616 0.132 0.43 ]
 [0.324 0.933 0.747 0.541 0.891]]
Test J10 =
[[0.932 0.526 0.846 0.802 0.504]
 [0.804 0.    0.204 0.27  0.134]
 [0.699 0.336 0.179 0.022 0.834]]
Test J11 =
[[0.883 0.429 0.985 0.736 0.038]
 [0.618 1.    0.639 0.026 0.434]
 [0.936 0.52  0.138 0.944 0.263]]

Test J00 =
[[1.    1.    0.145 0.115 0.904]
 [1.    1.    0.299 0.435 0.54 ]
 [1.    1.    0.918 0.534 0.271]]
Test J01 =
[[0.    0.    0.123 0.734 0.277]
 [0.    0.    0.616 0.132 0.43 ]
 [0.    0.    0.747 0.541 0.891]]
Test J10 =
[[0.    0.    0.846 0.802 0.504]
 [0.    0.    0.204 0.27  0.134]
 [0.    0.    0.179 0.022 0.834]]
Test J11 =
[[1.    1.    0.985 0.736 0.038]
 [1.    1.    0.639 0.026 0.434]
 [1.    1.    0.138 0.944 0.263]]

Test J00 =
[[0.925 0.798 1.    0.115 1.   ]
 [0.476 1.    0.299 0.435 0.54 ]
 [0.432 0.265 0.918 0.534 0.271]]
Test J01 =
[[0.298 0.653 0.    0.734 0.   ]
 [0.208 0.    0.616 0.132 0.43 ]
 [0.324 0.933 0.747 0.541 0.891]]
Test J10 =
[[0.932 0.526 0.    0.802 0.   ]
 [0.804 0.    0.204 0.27  0.134]
 [0.699 0.336 0.179 0.022 0.834]]
Test J11 =
[[0.883 0.429 1.    0.736 1.   ]
 [0.618 1.    0.639 0.026 0.434]
 [0.936 0.52  0.138 0.944 0.263]]

Test J00 =
[[1.    1.    0.145 0.115 1.   ]
 [0.476 1.    0.299 0.435 1.   ]
 [0.432 0.265 1.    1.    0.271]]
Test J01 =
[[0.    0.    0.123 0.734 0.   ]
 [0.208 0.    0.616 0.132 0.   ]
 [0.324 0.933 0.    0.    0.891]]
Test J10 =
[[0.    0.    0.846 0.802 0.   ]
 [0.804 0.    0.204 0.27  0.   ]
 [0.699 0.336 0.    0.    0.834]]
Test J11 =
[[1.    1.    0.985 0.736 1.   ]
 [0.618 1.    0.639 0.026 1.   ]
 [0.936 0.52  1.    1.    0.263]]

</pre></div></div>
</div>
</div>
<div class="section" id="Checks">
<h1>Checks<a class="headerlink" href="#Checks" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># is_physical</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">D</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_physical</span><span class="p">(</span><span class="n">all_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">D1</span><span class="p">,</span> <span class="n">D2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">D1</span><span class="o">*</span><span class="n">D2</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_physical</span><span class="p">(</span><span class="n">all_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J is physically realizable:
  Determinant cond.
[ True  True  True  True  True  True False False False False False]
  Trace cond.
[ True  True  True  True  True  True False False False False False]
The mean value of param Determinant cond. is 0.5454545454545454 +- 0.49792959773196915
The mean value of param Trace cond. is 0.5454545454545454 +- 0.49792959773196915

J is physically realizable:
  Determinant cond.
[[ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True False False]
 [ True  True  True  True  True  True  True False False False False]
 [ True  True  True  True  True  True False False False False False]
 [ True  True  True  True  True False False False False False False]
 [ True  True  True  True False False False False False False False]
 [ True  True  True  True False False False False False False False]
 [ True  True  True False False False False False False False False]
 [ True  True  True False False False False False False False False]]
  Trace cond.
[[ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True  True  True]
 [ True  True  True  True  True  True  True  True  True False False]
 [ True  True  True  True  True  True  True False False False False]
 [ True  True  True  True  True  True False False False False False]
 [ True  True  True  True  True False False False False False False]
 [ True  True  True  True False False False False False False False]
 [ True  True  True  True False False False False False False False]
 [ True  True  True False False False False False False False False]
 [ True  True  True False False False False False False False False]]
The mean value of param Determinant cond. is 0.6115702479338843 +- 0.4873931470342721
The mean value of param Trace cond. is 0.6115702479338843 +- 0.4873931470342721

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/source_development_2D_Jones_matrix_42_1.png" src="../../../_images/source_development_2D_Jones_matrix_42_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/source_development_2D_Jones_matrix_42_2.png" src="../../../_images/source_development_2D_Jones_matrix_42_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># is_homogeneous</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">D</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">D1</span><span class="p">,</span> <span class="n">D2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">filter_amplifier</span><span class="p">(</span><span class="n">D</span><span class="o">=</span><span class="n">D1</span><span class="o">*</span><span class="n">D2</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J is homogeneous:
[False False False  True  True False False  True False False False]
The mean value is 0.2727272727272727 +- 0.4453617714151233

J is homogeneous:
[[False False False False False False False False False False False]
 [False  True  True  True  True False False False False  True False]
 [False  True  True False False False  True False False False  True]
 [False  True False  True  True  True False False False False False]
 [False  True False  True False  True False False  True False False]
 [False False False  True  True False False  True False False False]
 [False False  True False False False False  True False  True False]
 [False False False False False  True  True  True False False False]
 [False False False False  True False False False  True  True  True]
 [False  True False False False False  True False  True False  True]
 [False False  True False False False False False  True  True False]]
&lt;class &#39;numpy.ndarray&#39;&gt;
The mean value is 0.30578512396694213 +- 0.46073916908318524

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/source_development_2D_Jones_matrix_43_1.png" src="../../../_images/source_development_2D_Jones_matrix_43_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/source_development_2D_Jones_matrix_43_2.png" src="../../../_images/source_development_2D_Jones_matrix_43_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># is_retarder</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">180</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="n">D</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_retarder</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_retarder</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_retarder</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_retarder</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
J is an homogeneous retarder:
[ True  True  True  True  True  True  True  True  True  True  True]
The mean value is 1.0 +- 0.0

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-41-a9bc426be6e1&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">      9</span> R <span class="ansi-yellow-intense-fg ansi-bold">=</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>random<span class="ansi-yellow-intense-fg ansi-bold">.</span>rand<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-cyan-intense-fg ansi-bold">11</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-yellow-intense-fg ansi-bold">*</span> <span class="ansi-cyan-intense-fg ansi-bold">180</span> <span class="ansi-yellow-intense-fg ansi-bold">*</span> degrees
<span class="ansi-green-fg">     10</span> J <span class="ansi-yellow-intense-fg ansi-bold">=</span> Jones_matrix<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 11</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>J<span class="ansi-yellow-intense-fg ansi-bold">.</span>retarder_charac_angles<span class="ansi-yellow-intense-fg ansi-bold">(</span>R<span class="ansi-yellow-intense-fg ansi-bold">,</span> alpha<span class="ansi-yellow-intense-fg ansi-bold">=</span>alpha<span class="ansi-yellow-intense-fg ansi-bold">,</span> delta<span class="ansi-yellow-intense-fg ansi-bold">=</span>delta<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     12</span> D <span class="ansi-yellow-intense-fg ansi-bold">=</span> J<span class="ansi-yellow-intense-fg ansi-bold">.</span>checks<span class="ansi-yellow-intense-fg ansi-bold">.</span>is_retarder<span class="ansi-yellow-intense-fg ansi-bold">(</span>verbose<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">True</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> draw <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">True</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     13</span>

<span class="ansi-red-intense-fg ansi-bold">TypeError</span>: retarder_charac_angles() got an unexpected keyword argument &#39;delta&#39;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/source_development_2D_Jones_matrix_44_2.png" src="../../../_images/source_development_2D_Jones_matrix_44_2.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># is_diattenuator</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_diattenuator</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_diattenuator</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">180</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_diattenuator</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">is_diattenuator</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">],[</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">,:,:],</span> <span class="s1">&#39;</span><span class="se">\n\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="p">,</span> <span class="n">vect</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">e1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vect</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">vect</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vect</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">vect</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="Parameters">
<h1>Parameters<a class="headerlink" href="#Parameters" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># inhomogeneity</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">45</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">eta</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">inhomogeneity</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">eta</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">inhomogeneity</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">inhomogeneity</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># diattenuation</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">diattenuation</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">diattenuation</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">diattenuation</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">diattenuation</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># retardance</span>
<span class="n">R</span> <span class="o">=</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span>
<span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="o">/</span><span class="n">degrees</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">retardance</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="o">/</span><span class="n">degrees</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">retardance</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">remove_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">retardance</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">retardance</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">retardance</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># transmissions</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">T1</span><span class="p">,</span> <span class="n">T2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">transmissions</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">T1</span><span class="p">,</span> <span class="n">T2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">transmissions</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J1</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">transmissions</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">transmissions</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># det</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">out_number</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># trace</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">out_number</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># norm</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">N</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">N</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">out_number</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">N</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># eigenvectors</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">e1</span><span class="p">,</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">eigenstates</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>

<span class="c1"># eigenvalues</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">45</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">azimuth</span><span class="o">=</span><span class="n">angle</span><span class="p">)</span>
<span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">out_number</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># print(&#39;e1 = \n&#39;,e1)</span>
<span class="c1"># print(&#39;e2 = \n&#39;,e2)</span>
<span class="c1"># print(e1.shape, e2.shape)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">p1</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="n">J1</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">90</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">*</span> <span class="mi">360</span> <span class="o">*</span> <span class="n">degrees</span>
<span class="n">J2</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J1</span> <span class="o">*</span> <span class="n">J2</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">get_all</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draw</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Analysis">
<h1>Analysis<a class="headerlink" href="#Analysis" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_linear</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">191</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">(</span><span class="n">decomposition</span><span class="o">=</span><span class="s1">&#39;PR&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">J</span> <span class="o">=</span> <span class="n">Jones_matrix</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">80</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">J</span><span class="o">.</span><span class="n">retarder_linear</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">80</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">degrees</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jr</span> <span class="o">*</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">201</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">80</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;J general&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">J1</span><span class="p">,</span> <span class="n">J2</span> <span class="o">=</span> <span class="n">create_Jones_matrices</span><span class="p">((</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="s1">&#39;J2&#39;</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">191</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">72</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">201</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">80</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J2</span> <span class="o">*</span> <span class="n">J1</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>

<span class="n">J1</span><span class="p">,</span> <span class="n">J2</span> <span class="o">=</span> <span class="n">create_Jones_matrices</span><span class="p">((</span><span class="s1">&#39;J1&#39;</span><span class="p">,</span> <span class="s1">&#39;J2&#39;</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">191</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J1</span><span class="o">.</span><span class="n">diattenuator_charac_angles</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J1</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">72</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">delta</span> <span class="o">=</span> <span class="mi">201</span><span class="o">*</span><span class="n">degrees</span>
<span class="n">J2</span><span class="o">.</span><span class="n">retarder_charac_angles</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="mi">80</span><span class="o">*</span><span class="n">degrees</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">J2</span><span class="p">)</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">J2</span> <span class="o">*</span> <span class="n">J1</span>
<span class="n">Jr</span><span class="p">,</span> <span class="n">Jd</span> <span class="o">=</span> <span class="n">J</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">decompose_pure</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Jr</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">Jd</span><span class="p">)</span>


</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">py_pol.utils</span> <span class="k">import</span> <span class="n">multitake</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">multitake</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span>        <span class="c1"># Check if the matrix is of the correct Size</span>
        <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">size</span>
        <span class="c1"># Case 1D</span>
        <span class="k">if</span> <span class="n">M</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">M</span><span class="o">.</span><span class="n">size</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;M must have an even number of elements.&#39;</span><span class="p">)</span>
        <span class="c1"># Case 2D</span>
        <span class="k">elif</span> <span class="n">M</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">shape</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">M</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
                    <span class="n">new_shape</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The Jones vector must be a 2xN array&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_shape</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="c1"># Case 3+D</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sh</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">:</span>
                <span class="c1"># Store the shape of the desired outputs</span>
                <span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">sh</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">sh</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
                <span class="c1"># Store info</span>
                <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">ind</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">ind</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
                <span class="p">])</span>
                <span class="n">new_shape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">sh</span><span class="p">,</span> <span class="n">ind</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;The Jones vector array must have one axis with 2 elements&#39;</span>
                <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">M</span> <span class="o">=</span> <span class="n">M</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="n">select_shape</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">shape_var</span><span class="o">=</span><span class="n">new_shape</span><span class="p">,</span> <span class="n">shape_fun</span><span class="o">=</span><span class="n">shape</span><span class="p">,</span> <span class="n">shape_like</span><span class="o">=</span><span class="n">shape_like</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Luis Miguel Sanchez Brea / Jesus del Hoyo

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>